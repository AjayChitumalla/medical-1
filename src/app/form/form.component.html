<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" routerLink="" style="float: left;">Medical Agency</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse"id="navbarTogglerDemo01">
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0" style="float: right;">
      <li class="nav-item">
          <a class="nav-link"  style="cursor: pointer;" routerLink="/newOrder">New Order</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" *ngIf="permission()" style="cursor: pointer;" routerLink="/NewOne">New Shop</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" *ngIf="permission()" style="cursor: pointer;" routerLink="/NewProduct">New Product</a>
      </li>
      <li class="nav-item" *ngIf="permission()">
        <a class="nav-link" style="cursor: pointer;" routerLink="/orders">Due Orders</a>
      </li>
      <li class="nav-item" *ngIf="!permission()">
        <a class="nav-link" style="cursor: pointer;" routerLink="/userorders">My Due Orders</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" *ngIf="this.data.loggedIn()" style="cursor: pointer;" (click)="this.data.logout()">Logout</a>
      </li>
    </ul>
  </div>
</nav>
<div class="container">
  <h2 style="text-align: center;">New Order</h2>
  <span *ngIf="permission()">
  <span style="color:red;margin-left: 35%;">*</span><span style="font-size: smaller;"> Required</span></span><br><br>
    <form>
      <div class="form-group" *ngIf="permission()">
        <label style="margin-left: 35%;"for="shop">Name </label><span style="color:red">*</span>
        <select [(ngModel)]="selected" class="custom-select" (blur)="setName()" name="user" style="width:300px;">
            <option value="" disabled></option>
            <option style="font-size: medium;"*ngFor="let c of customers;let i=index" value="{{i}}">{{c.ShopName}}</option>
         </select>
         <div style="margin-left:40%;">Desired shop is not listed?<a routerLink="/NewOne">Add a shop</a> </div>
      </div>
      <div *ngIf="!permission() && !shop()"style="margin-left: 40%;">Your ShopName is not added.<a routerLink="/NewOne">Add Here</a> </div>
      <br>
      <br>
      <div class="row justify-content-center">
        <div class="col-md-3" style="min-height:40px;border:1px solid black;border-radius:5px;margin:5px;padding:2%" *ngFor="let p of products;let i=index">
          <span>  
          <b>{{p.Name}}</b><br><br>
            <span>Price:<b>{{p.Price}}</b></span>
            <span style="float:right;margin-top: -40px;">
              <b> Quantity</b>
              <br>
              <button class="btn btn-small btn-warning" style="display:none;" [id]="'m'+i"(click)="check(i);remove(i)">-</button>
              <span style="margin: 5px;"[id]="'count'+i"><b>0</b></span>
              <button class="btn btn-small btn-success"(click)="add(i)">+</button>
            </span>
            </span>
        </div>
    </div>
    <div *ngIf="permission()" style="margin-left: 40%;">Desired product is not listed?<a routerLink="/NewProduct">Add a Product</a> </div>
    <br>
      <button [disabled]="!valid()" *ngIf="permission()" style="float: right;"type="submit" class="btn btn-primary" (click)="OnSubmit()">Submit</button>
      <button [disabled]="!shop()"*ngIf="!permission()" style="float: right;"type="submit" class="btn btn-primary" (click)="SpSubmit()">Submit</button>
    </form>
</div>
</body>

